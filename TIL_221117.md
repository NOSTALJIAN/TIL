# ❤️‍🔥 **TIL DAY 08** ❤️‍🔥

> 📆 2022년 11월 17일 목요일

<br>

---

<br>

국취제 1유형 3차 상담 하러가는 날 <br>
IAP 수립 하구 수당 신청하구 왔다 <br>

<br>

---

<br>

## 💡 GROUP BY 및 HAVING 그리고 집계 함수

<br>

### 📍 GROUP BY절

    # 형식
    SELECT select_expr
        [FROM table_references]
        [WHERE where_condition]
        [GROUP BY {col_name | expr | position}]
        [HAVING where_condition]
        [ORDER BY {col_name | expr | position}]

    # sqlDB의 구매 테이블(buytbl)에서 사용자(userID)가 구매한 물품의 총 개수 조회
    USE sqldb;
    SELECT userID AS '사용자 아이디', SUM(amount) AS '총 구매 개수'
      FROM buytbl ORDER BY userID;

    # 구매액의 총합을 출력
    SELECT userID AS '사용자 아이디', SUM(price*amount) AS '총 구매액'
      FROM buytbl GROUP BY userID;

- 과정 1
  
      USE sqldb;
      SELECT usserID, amount FROM buytbl ORDER BY userID;

  - 사용자 별로 여러 번의 구매가 이루어져서 각각의 행이 별도로 출력됨
    - 집계 함수 `SUM(amount) GROUP BY ...` 사용해서 합계를 출력하기로 함
  - SUM(...)의 결과 열의 제목이 함수 이름이 그대로 나옴
    - `AS '사용자 아이디', AS '총 구매 개수'`을 사용해서 별칭 만듬

<br>

### 📍 집계 함수

